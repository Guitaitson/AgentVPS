name: self_edit
description: "Edita arquivos de código do agente. Use para corrigir bugs, adicionar funcionalidades ou refatorar código."
version: "1.0.0"
security_level: moderate
triggers:
  - edite
  - altere
  - modifique
  - mude
  - atualize
  - edit
  - modify
  - change
  - update
parameters:
  file_path:
    type: string
    required: true
    description: "Caminho do arquivo para editar"
  content:
    type: string
    required: true
    description: "Novo conteúdo"
  mode:
    type: string
    required: false
    description: "Modo: overwrite, append, patch"
    default: "overwrite"
parameters_schema:
  file_path:
    type: string
    description: "O caminho do arquivo (ex: '/opt/vps-agent/core/llm/agent_identity.py')"
    required: true
  content:
    type: string
    description: "O novo conteúdo. Para mode=patch, usar formato 'TEXTO_ANTIGO|||TEXTO_NOVO'"
    required: true
  mode:
    type: string
    description: "Modo: 'overwrite' (substitui tudo), 'append' (adiciona ao final), 'patch' (substitui trecho)"
    required: false
    enum: ["overwrite", "append", "patch"]
max_output_chars: 1500
timeout_seconds: 30
enabled: true
