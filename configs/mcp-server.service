[Unit]
Description=VPS-Agent MCP Server
Documentation=https://github.com/Guitaitson/AgentVPS
After=network.target docker.service
Wants=docker.service

[Service]
Type=simple
User=root
WorkingDirectory=/opt/vps-agent/core
Environment=PYTHONPATH=/opt/vps-agent/core
EnvironmentFile=/opt/vps-agent/configs/.env

# Start MCP server (using venv)
ExecStart=/opt/vps-agent/venv/bin/python /opt/vps-agent/core/mcp_server.py

# Restart policy
Restart=always
RestartSec=10

# Logging
StandardOutput=journal
StandardError=journal
SyslogIdentifier=mcp-server

# Resource limits (MCP server is lightweight)
MemoryMax=200M
CPUQuota=50%

[Install]
WantedBy=multi-user.target
